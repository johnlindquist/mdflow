{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Copilot Prompt Frontmatter",
  "description": "Schema for .md file frontmatter that configures copilot CLI prompts",
  "type": "object",
  "properties": {
    "before": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ],
      "description": "Command(s) to run before copilot, output is prepended to prompt"
    },
    "after": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ],
      "description": "Command(s) to run after copilot completes"
    },
    "model": {
      "type": "string",
      "description": "AI model to use",
      "enum": [
        "claude-sonnet-4.5",
        "claude-haiku-4.5",
        "claude-opus-4.5",
        "claude-sonnet-4",
        "gpt-5",
        "gpt-5.1",
        "gpt-5.1-codex-mini",
        "gpt-5.1-codex",
        "gpt-5-mini",
        "gpt-4.1",
        "gemini-3-pro-preview"
      ]
    },
    "agent": {
      "type": "string",
      "description": "Custom agent to use (prompt mode only)"
    },
    "silent": {
      "type": "boolean",
      "description": "Output only agent response, no stats (useful for scripting)",
      "default": false
    },
    "interactive": {
      "type": "boolean",
      "description": "Start interactive mode instead of single prompt",
      "default": false
    },
    "allow-all-tools": {
      "type": "boolean",
      "description": "Allow all tools without confirmation",
      "default": false
    },
    "allow-all-paths": {
      "type": "boolean",
      "description": "Disable file path verification, allow any path",
      "default": false
    },
    "allow-tool": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ],
      "description": "Allow specific tools. Patterns: shell, shell(cmd), shell(cmd:*), write, MCP_SERVER, MCP_SERVER(tool)"
    },
    "deny-tool": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ],
      "description": "Deny specific tools (takes precedence over allow). Same patterns as allow-tool."
    },
    "add-dir": {
      "oneOf": [
        { "type": "string" },
        { "type": "array", "items": { "type": "string" } }
      ],
      "description": "Additional directory/directories to allow file access"
    }
  },
  "additionalProperties": false
}
